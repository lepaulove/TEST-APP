{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lepau\\\\src\\\\ZOE Inc\\\\zoe-inc-and-associates-project\\\\zoe-inc-and-associates\\\\src\\\\Pages\\\\SuperChat.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { firestore } from '../Firebase/utils';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport { Box, Grid, TextField, Button, Typography, Paper } from '@mui/material';\nimport ChatMessage from '../Components/ChatMessage';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst mapUserState = _ref => {\n  let {\n    user\n  } = _ref;\n  return {\n    currentUser: user.currentUser\n  };\n};\n\nconst mapUserDataState = _ref2 => {\n  let {\n    user\n  } = _ref2;\n  return {\n    userProfileData: user.userProfileData\n  };\n};\n\nexport const SuperChat = props => {\n  _s();\n\n  const [message, setMessage] = useState();\n  const {\n    currentUser\n  } = useSelector(mapUserState);\n  const {\n    userProfileData\n  } = useSelector(mapUserDataState);\n  const messagesRef = firestore.collection('messages');\n  const query = messagesRef.orderBy('createdAt').limit(25);\n  console.log(messagesRef);\n  const [messages] = useCollectionData(query, {\n    idField: 'id'\n  });\n\n  const sendMessage = async () => {\n    const uid = currentUser.uid;\n    const userName = userProfileData.displayName;\n    await messagesRef.add({\n      text: message,\n      createdAt: new Date(),\n      uid,\n      userName\n    });\n    setMessage('');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      backgroundColor: 'dodgerblue',\n      py: 10,\n      pl: 10,\n      pr: 4,\n      height: '100vh'\n    },\n    children: currentUser ? /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      direction: \"column\",\n      spacing: {\n        xs: 4\n      },\n      alignItems: \"center\",\n      sx: {\n        height: '100vh',\n        backgroundColor: 'transparent'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(Typography, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        item: true,\n        container: true,\n        elevation: 10,\n        direction: \"column\",\n        spacing: {\n          xs: 2\n        },\n        sx: {\n          backgroundColor: 'gray',\n          width: '80vw',\n          height: '80vh',\n          borderRadius: 10,\n          p: 6\n        },\n        children: [messages && messages.map(msg => /*#__PURE__*/_jsxDEV(ChatMessage, {\n          message: msg\n        }, msg.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 54\n        }, this)), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          item: true,\n          justifyContent: \"flex-end\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Enter Message...\",\n            value: message,\n            onChange: e => {\n              setMessage(e.target.value);\n            },\n            sx: {\n              input: {\n                color: 'white'\n              },\n              borderRadius: 3,\n              color: 'white'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            fullWidth: true,\n            onClick: () => sendMessage(),\n            sx: {\n              height: 50,\n              backgroundColor: 'black',\n              mt: 1,\n              fontSize: 40,\n              border: '3px solid white',\n              color: '#fff',\n              fontWeight: 'bold'\n            },\n            children: \"SEND\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 28\n    }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n      children: \"YOU MUST BE LOGGED IN TO VIEW THIS PAGE...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 23\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 6\n  }, this);\n};\n\n_s(SuperChat, \"iQAFXSTTs7tKGHs64M4TLuCrFDE=\", false, function () {\n  return [useSelector, useSelector, useCollectionData];\n});\n\n_c = SuperChat;\n\nvar _c;\n\n$RefreshReg$(_c, \"SuperChat\");","map":{"version":3,"names":["React","useState","firestore","useCollectionData","Box","Grid","TextField","Button","Typography","Paper","ChatMessage","useSelector","mapUserState","user","currentUser","mapUserDataState","userProfileData","SuperChat","props","message","setMessage","messagesRef","collection","query","orderBy","limit","console","log","messages","idField","sendMessage","uid","userName","displayName","add","text","createdAt","Date","backgroundColor","py","pl","pr","height","xs","width","borderRadius","p","map","msg","id","e","target","value","input","color","mt","fontSize","border","fontWeight"],"sources":["C:/Users/lepau/src/ZOE Inc/zoe-inc-and-associates-project/zoe-inc-and-associates/src/Pages/SuperChat.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { firestore } from '../Firebase/utils'\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport { Box, Grid, TextField, Button, Typography, Paper } from '@mui/material'\r\nimport ChatMessage from '../Components/ChatMessage';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst mapUserState = ({ user }) => ({\r\n    currentUser: user.currentUser\r\n})\r\n\r\nconst mapUserDataState = ({user}) => ({\r\n    userProfileData: user.userProfileData\r\n})\r\n\r\nexport const SuperChat = (props) => {\r\n\r\n    const [message, setMessage] = useState()\r\n    const { currentUser } = useSelector(mapUserState)\r\n    const { userProfileData } = useSelector(mapUserDataState)\r\n    const messagesRef = firestore.collection('messages')\r\n    const query = messagesRef.orderBy('createdAt').limit(25)\r\n\r\n    console.log(messagesRef)\r\n    \r\n\r\n    const [messages] = useCollectionData(query, {idField: 'id'})\r\n\r\n    const sendMessage = async() => {\r\n        const uid = currentUser.uid\r\n        const userName = userProfileData.displayName\r\n        await messagesRef.add({\r\n            text: message,\r\n            createdAt: new Date(),\r\n            uid,\r\n            userName\r\n        })\r\n        setMessage('')\r\n    }\r\n  return (\r\n     <Box sx={{backgroundColor:'dodgerblue', py:10, pl:10, pr:4, height:'100vh'}}>\r\n            {currentUser ? < Grid container direction='column' spacing={{xs:4}} alignItems='center' sx={{height:'100vh', backgroundColor:'transparent'}}>\r\n                <Grid item>\r\n                    <Typography>\r\n                        \r\n                    </Typography>\r\n                </Grid>\r\n                <Paper item container elevation={10} direction='column' spacing={{xs:2}} sx={{backgroundColor: 'gray', width:'80vw', height:'80vh', borderRadius:10, p:6}}>\r\n                    {messages && messages.map(msg => <ChatMessage key={msg.id} message={msg}/>)}\r\n                    <Grid container item justifyContent='flex-end' >\r\n                        <TextField fullWidth label='Enter Message...' value={message} onChange={(e) => { setMessage(e.target.value) }} sx={{ input:{ color: 'white'}, borderRadius:3, color:'white'}}/>\r\n                        <Button fullWidth onClick={() => sendMessage()} sx={{height:50, backgroundColor:'black', mt:1, fontSize:40, border:'3px solid white', color:'#fff', fontWeight:'bold'}}>\r\n                            SEND\r\n                        </Button>\r\n                    </Grid>\r\n                </Paper>  \r\n            </Grid> : <Typography>YOU MUST BE LOGGED IN TO VIEW THIS PAGE...</Typography>}\r\n        </Box>\r\n  )\r\n\r\n}\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}