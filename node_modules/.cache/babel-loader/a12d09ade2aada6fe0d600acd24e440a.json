{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/lepau/src/ZOE Inc/zoe-inc-and-associates-project/zoe-inc-and-associates/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/lepau/src/ZOE Inc/zoe-inc-and-associates-project/zoe-inc-and-associates/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/lepau/src/ZOE Inc/zoe-inc-and-associates-project/zoe-inc-and-associates/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Box,Grid,TextField,Button,Typography}from'@mui/material';import{createTheme,ThemeProvider}from'@mui/material';import{auth,handleUserProfile}from'../Firebase/utils';import{useSelector,useDispatch}from'react-redux';import{emailSignIn}from'../Redux/User/user.actions';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var mapState=function mapState(_ref){var user=_ref.user;return{currentUser:user.currentUser};};var Login=function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),emailError=_useState6[0],setEmailError=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),passwordError=_useState8[0],setPasswordError=_useState8[1];var dispatch=useDispatch();var navigate=useNavigate();var _useSelector=useSelector(mapState),currentUser=_useSelector.currentUser;// const  currentUser  = useSelector(state => state.user)\n// let currentUser = useSelector(selectUser)\n// console.log(currentUser)\n// const auth = getAuth()\nuseEffect(function(){currentUser?navigate('/'):console.log('No User Found');return;},[currentUser]);var getEmail=function getEmail(e){setEmailError(null);var val=e.target.value;setEmail(val);};var getPassword=function getPassword(e){setPasswordError(null);var val=e.target.value;setPassword(val);};// handleSignUp('test1@test.com', '1234567')\nvar theme=createTheme({palette:{primary:{main:'#000'}}});var handleLogin=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var user,user2;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return auth.signInWithEmailAndPassword(email,password);case 3:user=_context.sent;_context.next=6;return handleUserProfile(user.user);case 6:_context.next=8;return _context.sent.get();case 8:_context.next=10;return _context.sent.data();case 10:user2=_context.sent;dispatch(emailSignIn(user2));_context.next=28;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.log(_context.t0);_context.t1=_context.t0.code;_context.next=_context.t1==='auth/invalid-email'?20:_context.t1==='auth/user-not-found'?22:_context.t1==='auth/wrong-password'?22:_context.t1==='auth/email-already-in-use'?25:_context.t1==='auth/internal-error'?27:27;break;case 20:setEmailError('Invalid Email Address');return _context.abrupt(\"break\",28);case 22:setEmailError('Incorrect Email or Password');setPasswordError('Incorrect Email or Password');return _context.abrupt(\"break\",28);case 25:setEmailError('You already have an account');return _context.abrupt(\"break\",28);case 27:setEmailError('An Error Occured. Please try again');case 28:case\"end\":return _context.stop();}}},_callee,null,[[0,14]]);}));return function handleLogin(){return _ref2.apply(this,arguments);};}();// console.log(currentUser.user.email)\nreturn/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:/*#__PURE__*/_jsx(Box,{sx:{backgroundColor:'dodgerblue'},children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",spacing:{xs:4},alignItems:\"center\",sx:{height:'100vh',pt:4,backgroundColor:'transparent'},children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(\"h1\",{children:\"LOGIN\"})}),/*#__PURE__*/_jsxs(Grid,{item:true,container:true,direction:\"row\",justifyContent:\"center\",spacing:{xs:2},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:9,md:6.01,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,type:\"email\",helperText:passwordError?'':emailError,error:emailError?true:false,label:\"EMAIL\",value:email,onChange:getEmail})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:9,md:6.01,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,type:\"password\",helperText:passwordError,error:passwordError?true:false,label:\"PASSWORD\",value:password,onChange:getPassword})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:8.4,md:6.01,children:/*#__PURE__*/_jsx(Button,{fullWidth:true,size:\"large\",variant:\"contained\",color:\"primary\",sx:{border:'2px solid white'},onClick:handleLogin,children:/*#__PURE__*/_jsx(Typography,{children:\"LOGIN\"})})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:8.4,md:6.01,children:[/*#__PURE__*/_jsx(Button,{fullWidth:true,size:\"large\",variant:\"contained\",color:\"primary\",sx:{border:'2px solid white'},onClick:function onClick(){navigate('/register');},children:/*#__PURE__*/_jsx(Typography,{sx:{textDecoration:'none',color:'white'},children:\"Register\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:7,pt:1,children:/*#__PURE__*/_jsx(Typography,{variant:\"button\",onClick:function onClick(){navigate('/reset-password');},sx:{fontSize:20,'&:hover':{cursor:'pointer'}},children:\"Forgot Password?\"})})]})]})]})})});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","Box","Grid","TextField","Button","Typography","createTheme","ThemeProvider","auth","handleUserProfile","useSelector","useDispatch","emailSignIn","useNavigate","mapState","user","currentUser","Login","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","dispatch","navigate","console","log","getEmail","e","val","target","value","getPassword","theme","palette","primary","main","handleLogin","signInWithEmailAndPassword","get","data","user2","code","backgroundColor","xs","height","pt","border","textDecoration","color","fontSize","cursor"],"sources":["C:/Users/lepau/src/ZOE Inc/zoe-inc-and-associates-project/zoe-inc-and-associates/src/Pages/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Box, Grid, TextField, Button, Typography } from '@mui/material'\r\nimport { createTheme, ThemeProvider } from '@mui/material';\r\nimport { auth, handleUserProfile } from '../Firebase/utils';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { emailSignIn } from '../Redux/User/user.actions';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst mapState = ({ user }) => ({\r\n    currentUser: user.currentUser\r\n})\r\n\r\nconst Login = () => {\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [emailError, setEmailError] = useState(null)\r\n    const [passwordError, setPasswordError] = useState(null)\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const { currentUser } = useSelector(mapState)\r\n    // const  currentUser  = useSelector(state => state.user)\r\n    // let currentUser = useSelector(selectUser)\r\n    // console.log(currentUser)\r\n    // const auth = getAuth()\r\n    useEffect(() => {\r\n        currentUser ? navigate('/') : console.log('No User Found')\r\n        return\r\n    }, [currentUser])\r\n\r\n    const getEmail = (e) => {\r\n        setEmailError(null)\r\n        let val = e.target.value\r\n        setEmail(val)\r\n    }\r\n\r\n    const getPassword = (e) => {\r\n        setPasswordError(null)\r\n        let val = e.target.value\r\n        setPassword(val)\r\n    }\r\n\r\n    // handleSignUp('test1@test.com', '1234567')\r\n    const theme = createTheme({\r\n        palette:{\r\n            primary:{\r\n                main:'#000'\r\n            }\r\n        }\r\n    })\r\n\r\n    const handleLogin = async () => {\r\n        try {\r\n            const user = await auth.signInWithEmailAndPassword(email, password)\r\n            const user2 = await (await (await handleUserProfile(user.user)).get()).data()\r\n            dispatch(emailSignIn(user2))\r\n        }catch(err){\r\n            console.log(err)\r\n            switch(err.code){\r\n                case 'auth/invalid-email':\r\n                    setEmailError('Invalid Email Address')\r\n                    break\r\n                case 'auth/user-not-found':\r\n                case 'auth/wrong-password':\r\n                    setEmailError('Incorrect Email or Password')\r\n                    setPasswordError('Incorrect Email or Password')\r\n                    break\r\n                case 'auth/email-already-in-use':\r\n                    setEmailError('You already have an account')\r\n                    break\r\n                case 'auth/internal-error':\r\n                default:\r\n                    setEmailError('An Error Occured. Please try again')\r\n                \r\n\r\n            }       \r\n        }\r\n    }\r\n\r\n    // console.log(currentUser.user.email)\r\n\r\n    return(\r\n        <ThemeProvider theme={theme}>\r\n            <Box sx={{backgroundColor:'dodgerblue'}}>\r\n                < Grid container direction='column' spacing={{xs:4}} alignItems='center' sx={{height:'100vh', pt: 4, backgroundColor:'transparent'}}>\r\n                    <Grid item>\r\n                        <h1>LOGIN</h1>\r\n                    </Grid>\r\n                    <Grid item container direction='row' justifyContent='center' spacing={{xs:2}}>\r\n                        <Grid item xs={9} md={6.01}>\r\n                            <TextField fullWidth type='email' helperText={passwordError ? '' : emailError} error={emailError ? true : false} label='EMAIL' value={email} onChange={getEmail} />\r\n                        </Grid>\r\n                        <Grid item xs={9} md={6.01}>\r\n                            <TextField fullWidth type='password' helperText={passwordError} error={passwordError ? true : false} label='PASSWORD' value={password} onChange={getPassword}/>\r\n                        </Grid>\r\n                        <Grid item xs={8.4} md={6.01}>\r\n                            <Button fullWidth size='large' variant='contained' color='primary' sx={{border:'2px solid white'}} onClick={handleLogin}>\r\n                                <Typography>\r\n                                    LOGIN\r\n                                </Typography>\r\n                            </Button>\r\n                        </Grid>\r\n                        <Grid item xs={8.4} md={6.01}>\r\n                            <Button fullWidth size='large' variant='contained' color='primary' sx={{border:'2px solid white'}} onClick={() => {navigate('/register')}}>\r\n                                <Typography sx={{textDecoration: 'none', color:'white'}}>\r\n                                    Register\r\n                                </Typography>\r\n                            </Button>\r\n                            <Grid item xs={7} pt={1} >\r\n                                <Typography  variant='button' onClick={() => {navigate('/reset-password')}} sx={{fontSize:20, '&:hover':{cursor:'pointer'}}}>\r\n                                    Forgot Password?\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                        \r\n                        {/* { currentUser && <Grid item>\r\n                            <Typography>\r\n                                {`User Email: ${currentUser.email}`}\r\n                            </Typography>\r\n                        </Grid>}*/}\r\n                        {/* { error && <Grid item>\r\n                            <Typography>\r\n                                {`${error}`}\r\n                            </Typography>\r\n                        </Grid>}  */}\r\n                    </Grid>\r\n                </Grid>\r\n            </Box>\r\n        </ThemeProvider>\r\n    )\r\n\r\n}\r\n\r\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module"}